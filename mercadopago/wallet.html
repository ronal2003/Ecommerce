  <html>
    <head>
      <script src="https://sdk.mercadopago.com/js/v2"></script>
    </head>
    <body>
      <div id="walletBrick_container"></div>
      <script>
        const mp = new MercadoPago('YOUR_PUBLIC_KEY', {
          locale: 'es-CO'
        });
        const bricksBuilder = mp.bricks();
        const renderWalletBrick = async (bricksBuilder) => {
          const settings = {
            initialization: {
              redirectMode: 'blank',
            },
            customization: {
              theme: 'default',
              valueProp: 'security_safety',
              customStyle: {
                hideValueProp: false,
                valuePropColor: 'blue', // blue, white, black
                buttonHeight: '48px', // min 48px - max free
                borderRadius: '6px',
                verticalPadding: '8px', // min 8px - max free
                horizontalPadding: '0px', // min 0px - max free
              },
              checkout: {
                theme: {
                  elementsColor: '#4287F5', // color hex code
                  headerColor: '#4287F5', // color hex code
                },
              },
            },
            callbacks: {
              onReady: () => {
              /*
              Callback called when Brick is ready.
              Here you can hide loadings from your site, for example.
              */
              },
              onSubmit: (formData) => {
                /*
                Callback called when clicking Wallet Brick
                this is possible because the brick is a button
                at this time of submit, you must create the preference
                */
                const yourRequestBodyHere = {
                  items: [
                    {
                      id: 'YOUR_PRODUCT_ID',
                      title: 'YOUR_PRODUCT_TITLE',
                      description: 'YOUR_PRODUCT_DESCRIPTION',
                      quantity: YOUR_PRODUCT_QUANTITY,
                      unit_price: YOUR_PRODUCT_UNIT_PRICE, // item unit price.
                    },
                  ],
                  purpose: 'wallet_purchase',
                };
                return new Promise((resolve, reject) => {
                  fetch('/create_preference', {
                    method: 'POST',
                    headers: {
                      'Content-Type': 'application/json',
                    },
                      body: JSON.stringify(formData),
                    })
                      .then((response) => response.json())
                      .then((response) => {
                      // resolve the promise with the ID of the preference
                      resolve(response.preference_id);
                    })
                    .catch((error) => {
                      // handle error response when trying to create preference
                      reject();
                    });
                });
              },
            },
          };
          window.walletBrickController = await bricksBuilder.create(
            'wallet',
            'walletBrick_container',
            settings,
          );
        };
        renderWalletBrick(bricksBuilder);
      </script>
    </body>
  </html>

